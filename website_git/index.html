<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutorial Interativo de Git - Controle de Versão para Jogos Digitais</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Prism.js para syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header" id="header" style="display: none;">
            <h1>Tutorial Interativo de Git - Controle de Versão para Jogos Digitais</h1>
            <div class="header-info" id="headerInfo" style="display: none;">
                <div class="progress-section">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill">
                            <span class="progress-text" id="progressText">0%</span>
                        </div>
                    </div>
                    <div class="module-info">
                        <span id="currentModule">Fase 1</span>
                        <span class="separator">|</span>
                        <span id="stepInfo">Passo 1/32</span>
                    </div>
                </div>
                <div class="gamification-section">
                    <div class="points-display" data-tooltip="Pontos ganhos completando passos e desafios">
                        <span class="points-label">Pontos:</span>
                        <span class="points-value" id="pointsDisplay">0</span>
                    </div>
                    <div class="level-display" data-tooltip="Seu nível baseado nos pontos (100 pontos por nível)">
                        <span class="level-label">Nível:</span>
                        <span class="level-value" id="levelDisplay">1</span>
                    </div>
                </div>
                <div class="timer-section" data-tooltip="Tempo decorrido desde o início do tutorial">
                    <span class="timer-label">Tempo:</span>
                    <span class="timer" id="timer">00:00:00</span>
                </div>
            </div>
        </div>

        <!-- Welcome Screen -->
        <div class="welcome-screen" id="welcomeScreen">
            <h2>MISSÃO: REPOSITÓRIO QUEBRADO</h2>
            <div class="welcome-content" id="welcomeNarrative">
                <!-- Narrativa será inserida aqui via JavaScript -->
            </div>
            <button id="startTutorialBtn" class="btn-primary">Aceitar Missão</button>
        </div>

        <!-- Main Content -->
        <div class="main-content" id="mainContent" style="display: none;">
            <!-- Left Panel -->
            <div class="left-panel">
                <!-- Instruction Panel -->
                <div class="instruction-panel">
                    <div class="instruction-header">
                        <h2>Instruções</h2>
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <span class="step-type" id="stepType">Tutorial</span>
                            <button class="help-btn" id="helpBtn" data-tooltip="Pressione F1 para ajuda" title="Ajuda (F1)">?</button>
                        </div>
                    </div>
                    <div class="instruction-content" id="instructionContent">
                        <!-- Conteúdo será inserido via JavaScript -->
                    </div>
                    
                    <!-- Theory Box -->
                    <div class="theory-box" id="theoryBox" style="display: none;">
                        <h3>Teoria</h3>
                        <div id="theoryContent"></div>
                    </div>
                    
                    <!-- Hint Box -->
                    <div class="hint-box" id="hintBox" style="display: none;">
                        <strong>Dica:</strong>
                        <span id="hintText"></span>
                    </div>
                    
                    <!-- Exercise Box -->
                    <div class="exercise-box" id="exerciseBox" style="display: none;">
                        <h3>Exercício</h3>
                        <div id="exerciseContent"></div>
                        <button id="showSolution" class="btn-secondary" style="display: none;">Mostrar Solução</button>
                        <div id="exerciseSolution" style="display: none;">
                            <h4>Solução:</h4>
                            <pre><code class="language-csharp" id="exerciseSolutionCode"></code></pre>
                        </div>
                    </div>
                </div>

                <!-- Terminal Panel -->
                <div class="terminal-panel">
                    <div class="terminal-header">
                        <div class="terminal-buttons">
                            <span class="btn-minimize"></span>
                            <span class="btn-maximize"></span>
                            <span class="btn-close"></span>
                        </div>
                        <span style="color: var(--terminal-green); font-weight: bold;">Terminal Git</span>
                    </div>
                    <div class="terminal-body">
                        <div class="terminal-output" id="terminalOutput"></div>
                        <div class="terminal-input-line">
                            <span class="prompt">$</span>
                            <input type="text" class="terminal-input" id="terminalInput" placeholder="Digite um comando Git..." autocomplete="off">
                            <span class="cursor-indicator"></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel -->
            <div class="right-panel">
                <!-- Git Visualization -->
                <div class="git-visualization">
                    <h2>Visualização Git</h2>
                    <div class="git-graph" id="gitGraph">
                        <div class="git-graph-placeholder">
                            <p>Inicialize o repositório para ver a visualização</p>
                        </div>
                    </div>
                    <div class="git-status">
                        <div class="status-item">
                            <span class="status-label">Branch:</span>
                            <span class="status-value" id="currentBranch">-</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Commits:</span>
                            <span class="status-value" id="commitCount">0</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Arquivos:</span>
                            <span class="status-value" id="fileCount">0</span>
                        </div>
                    </div>
                </div>

                <!-- Achievements Panel -->
                <div class="achievements-panel" id="achievementsPanel">
                    <h2>Conquistas</h2>
                    <div class="achievements-list" id="achievementsList">
                        <p style="color: var(--text-muted); font-size: 14px;">Complete desafios para desbloquear conquistas</p>
                    </div>
                </div>

                <!-- Code Editor Panel -->
                <div class="code-editor-panel" id="codeEditorPanel" style="display: none;">
                    <div class="editor-header">
                        <select id="fileSelector" class="file-selector">
                            <option value="">Selecione um arquivo...</option>
                        </select>
                    </div>
                    <div class="editor-body">
                        <div class="editor-line-numbers" id="lineNumbers"></div>
                        <pre id="codeEditor" class="language-csharp"><code class="language-csharp"></code></pre>
                        <textarea id="codeTextarea" class="code-textarea" placeholder="Digite seu código aqui..."></textarea>
                    </div>
                    <div class="editor-footer">
                        <button id="saveFile" class="btn-primary">Salvar</button>
                        <button id="resetFile" class="btn-secondary">Resetar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="navigation" id="navigation" style="display: none;">
            <button id="prevStep" class="btn-nav" data-tooltip="Passo anterior (Ctrl+←)">← Anterior</button>
            <button id="nextStep" class="btn-nav" data-tooltip="Próximo passo (Ctrl+→)">Próximo →</button>
            <button id="restartTutorial" class="btn-secondary" data-tooltip="Reiniciar todo o tutorial">Reiniciar Tutorial</button>
        </div>
        
        <!-- Help Panel -->
        <div class="help-panel" id="helpPanel" style="display: none;">
            <div class="help-content">
                <h3>Atalhos de Teclado</h3>
                <ul class="help-shortcuts">
                    <li><kbd>Ctrl</kbd> + <kbd>←</kbd> - Passo anterior</li>
                    <li><kbd>Ctrl</kbd> + <kbd>→</kbd> - Próximo passo</li>
                    <li><kbd>↑</kbd> / <kbd>↓</kbd> - Navegar histórico do terminal</li>
                    <li><kbd>Tab</kbd> - Autocomplete de comandos</li>
                    <li><kbd>F1</kbd> - Mostrar/ocultar esta ajuda</li>
                    <li><kbd>Esc</kbd> - Fechar modais/ajuda</li>
                </ul>
                <h3>Dicas</h3>
                <ul class="help-tips">
                    <li>Leia as instruções com atenção antes de executar comandos</li>
                    <li>Use as dicas quando estiver com dificuldade</li>
                    <li>O terminal suporta histórico de comandos (setas ↑↓)</li>
                    <li>Acompanhe seu progresso na barra superior</li>
                    <li>Complete os passos para desbloquear conquistas</li>
                </ul>
                <button class="btn-primary" id="closeHelpBtn">Fechar</button>
            </div>
        </div>
    </div>

    <!-- Tour Overlay -->
    <div class="tour-overlay" id="tourOverlay" style="display: none;">
        <div class="tour-spotlight" id="tourSpotlight"></div>
        <div class="tour-tooltip" id="tourTooltip">
            <div class="tour-tooltip-header">
                <h3 id="tourTitle">Bem-vindo!</h3>
                <button class="tour-close" id="tourSkipBtn">Pular Tour</button>
            </div>
            <div class="tour-tooltip-content" id="tourContent">
                <p id="tourDescription">Vamos conhecer a interface do tutorial.</p>
            </div>
            <div class="tour-tooltip-footer">
                <div class="tour-progress">
                    <span id="tourStepInfo">1/7</span>
                </div>
                <div class="tour-navigation">
                    <button class="btn-secondary" id="tourPrevBtn" disabled>← Anterior</button>
                    <button class="btn-primary" id="tourNextBtn">Próximo →</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Cursor Guide -->
    <div class="cursor-guide" id="cursorGuide"></div>

    <!-- Feedback Modal -->
    <div class="modal" id="feedbackModal">
        <div class="modal-content">
            <span class="modal-close" id="modalClose">&times;</span>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="git-simulator.js"></script>
    <script src="tutorial-data.js"></script>
    <script src="app.js"></script>
</body>
</html>

